# App Components trong Android

Tài liệu này trình bày chi tiết về các thành phần ứng dụng (App Components) trong Android, bao gồm Activity, Life Cycle, Intents và Manifest.

---

## 1) Android Activity

### 1.1 Activity là gì?

**Activity** là một trong bốn thành phần chính của ứng dụng Android (cùng với Service, BroadcastReceiver và ContentProvider). Activity đại diện cho một màn hình giao diện người dùng (UI) trong ứng dụng.

**Đặc điểm của Activity:**
- Mỗi Activity là một màn hình độc lập với giao diện riêng.
- Một ứng dụng có thể có nhiều Activity.
- Các Activity có thể tương tác với nhau thông qua Intent.
- Activity quản lý vòng đời (lifecycle) riêng của nó.

**Ví dụ thực tế:**
- Ứng dụng Email: Activity danh sách email, Activity đọc email, Activity soạn email.
- Ứng dụng Shopping: Activity trang chủ, Activity chi tiết sản phẩm, Activity giỏ hàng.

### 1.2 Tạo một Activity

#### Bước 1: Tạo class Activity (Kotlin)

```kotlin
// File: MainActivity.kt
package com.example.myapp

import android.os.Bundle
import androidx.appcompat.app.AppCompatActivity

class MainActivity : AppCompatActivity() {

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)
        
        // Khởi tạo UI và logic ở đây
    }
}
```

#### Bước 2: Tạo Layout XML

```xml
<!-- File: res/layout/activity_main.xml -->
<?xml version="1.0" encoding="utf-8"?>
<androidx.constraintlayout.widget.ConstraintLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent">

    <TextView
        android:id="@+id/welcomeText"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Welcome to MainActivity"
        android:textSize="24sp"
        app:layout_constraintBottom_toBottomOf="parent"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toTopOf="parent" />

</androidx.constraintlayout.widget.ConstraintLayout>
```

#### Bước 3: Khai báo trong AndroidManifest.xml

```xml
<activity
    android:name=".MainActivity"
    android:exported="true"
    android:label="@string/app_name">
    <intent-filter>
        <action android:name="android.intent.action.MAIN" />
        <category android:name="android.intent.category.LAUNCHER" />
    </intent-filter>
</activity>
```

### 1.3 AppCompatActivity vs Activity

| Lớp | Mô tả |
|-----|-------|
| `Activity` | Lớp cơ sở gốc của Android |
| `AppCompatActivity` | Kế thừa từ Activity, hỗ trợ ActionBar, Material Design trên các phiên bản Android cũ |

**Khuyến nghị:** Luôn sử dụng `AppCompatActivity` để đảm bảo tương thích ngược.

### 1.4 Các thành phần quan trọng trong Activity

```kotlin
class MainActivity : AppCompatActivity() {

    // 1. Binding cho View (khuyến nghị)
    private lateinit var binding: ActivityMainBinding

    // 2. ViewModel (nếu dùng MVVM)
    private val viewModel: MainViewModel by viewModels()

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        
        // 3. Inflate layout
        binding = ActivityMainBinding.inflate(layoutInflater)
        setContentView(binding.root)
        
        // 4. Thiết lập ActionBar/Toolbar
        setSupportActionBar(binding.toolbar)
        
        // 5. Khởi tạo Views và Listeners
        setupViews()
        setupListeners()
        
        // 6. Quan sát dữ liệu từ ViewModel
        observeData()
    }
    
    private fun setupViews() {
        // Cấu hình các View
    }
    
    private fun setupListeners() {
        binding.button.setOnClickListener {
            // Xử lý click
        }
    }
    
    private fun observeData() {
        viewModel.data.observe(this) { data ->
            // Cập nhật UI
        }
    }
}
```

---

## 2) Activity Life Cycle (Vòng đời Activity)

### 2.1 Tổng quan về Life Cycle

Mỗi Activity đi qua một loạt các trạng thái từ khi được tạo đến khi bị hủy. Android gọi các phương thức callback tương ứng với mỗi trạng thái.

### 2.2 Sơ đồ Life Cycle

```
                    ┌─────────────────┐
                    │   App Started   │
                    └────────┬────────┘
                             │
                             ▼
                    ┌─────────────────┐
                    │   onCreate()    │ ◄─── Activity được tạo
                    └────────┬────────┘
                             │
                             ▼
                    ┌─────────────────┐
                    │   onStart()     │ ◄─── Activity hiển thị
                    └────────┬────────┘
                             │
                             ▼
                    ┌─────────────────┐
                    │   onResume()    │ ◄─── Activity có thể tương tác
                    └────────┬────────┘
                             │
              ┌──────────────┴──────────────┐
              │      ACTIVITY RUNNING       │
              │   (Người dùng tương tác)    │
              └──────────────┬──────────────┘
                             │
          ┌──────────────────┼──────────────────┐
          │                  │                  │
          ▼                  ▼                  ▼
   ┌────────────┐    ┌─────────────┐    ┌─────────────┐
   │ Dialog/    │    │ Chuyển sang │    │   Nhấn      │
   │ Popup mở   │    │ Activity    │    │   Back      │
   └─────┬──────┘    │   khác      │    └──────┬──────┘
         │           └──────┬──────┘           │
         ▼                  │                  │
   ┌────────────┐           │                  │
   │ onPause()  │ ◄─────────┘                  │
   └─────┬──────┘                              │
         │                                     │
         ▼                                     │
   ┌────────────┐                              │
   │ onStop()   │ ◄────────────────────────────┤
   └─────┬──────┘                              │
         │                                     │
    ┌────┴────┐                                │
    │         │                                │
    ▼         ▼                                ▼
┌────────┐ ┌─────────┐                  ┌─────────────┐
│onRestart│ │onDestroy│                  │ onDestroy() │
└────┬───┘ └────┬────┘                  └─────────────┘
     │          │
     │          ▼
     │    ┌──────────┐
     │    │ Activity │
     │    │ Destroyed│
     │    └──────────┘
     │
     └──────► Quay lại onStart()
```

### 2.3 Chi tiết các phương thức Life Cycle

#### onCreate()
```kotlin
override fun onCreate(savedInstanceState: Bundle?) {
    super.onCreate(savedInstanceState)
    setContentView(R.layout.activity_main)
    
    // Được gọi MỘT LẦN khi Activity được tạo
    // Thực hiện:
    // - Inflate layout (setContentView)
    // - Khởi tạo Views (findViewById, ViewBinding)
    // - Khởi tạo biến và dữ liệu
    // - Khôi phục trạng thái (nếu có savedInstanceState)
    
    if (savedInstanceState != null) {
        // Khôi phục dữ liệu đã lưu
        val savedText = savedInstanceState.getString("KEY_TEXT")
    }
}
```

#### onStart()
```kotlin
override fun onStart() {
    super.onStart()
    
    // Activity sắp hiển thị cho người dùng
    // Thực hiện:
    // - Đăng ký BroadcastReceiver
    // - Bắt đầu animation
    // - Cập nhật UI nếu cần
    
    Log.d("Lifecycle", "onStart called")
}
```

#### onResume()
```kotlin
override fun onResume() {
    super.onResume()
    
    // Activity đang ở foreground và có thể tương tác
    // Thực hiện:
    // - Bắt đầu camera, sensor, GPS
    // - Resume video/audio playback
    // - Refresh dữ liệu từ server
    
    startLocationUpdates()
    resumeVideoPlayback()
}
```

#### onPause()
```kotlin
override fun onPause() {
    super.onPause()
    
    // Activity mất focus (bị che một phần hoặc chuyển Activity)
    // Thực hiện:
    // - Tạm dừng animation, video, audio
    // - Lưu dữ liệu quan trọng
    // - Giải phóng tài nguyên hệ thống
    
    // LƯU Ý: Code trong onPause() phải NHANH
    // vì Activity tiếp theo không hiển thị cho đến khi onPause() hoàn thành
    
    pauseVideoPlayback()
    saveUserProgress()
}
```

#### onStop()
```kotlin
override fun onStop() {
    super.onStop()
    
    // Activity không còn hiển thị (bị che hoàn toàn)
    // Thực hiện:
    // - Hủy đăng ký BroadcastReceiver
    // - Dừng các tác vụ nặng
    // - Lưu dữ liệu vào database
    
    unregisterReceiver(myReceiver)
    saveDataToDatabase()
}
```

#### onRestart()
```kotlin
override fun onRestart() {
    super.onRestart()
    
    // Activity đang được khởi động lại sau khi bị stop
    // (Người dùng quay lại từ Activity khác)
    
    refreshData()
}
```

#### onDestroy()
```kotlin
override fun onDestroy() {
    super.onDestroy()
    
    // Activity sắp bị hủy
    // Thực hiện:
    // - Giải phóng tất cả tài nguyên
    // - Hủy các Thread, Handler, Coroutine
    // - Đóng kết nối database
    
    // LƯU Ý: Có thể không được gọi nếu hệ thống kill process
    
    job?.cancel()
    database?.close()
}
```

### 2.4 Lưu và Khôi phục trạng thái

Khi Activity bị destroy (xoay màn hình, hệ thống kill), cần lưu trạng thái:

```kotlin
class MainActivity : AppCompatActivity() {
    
    private var counter = 0
    private var userInput = ""
    
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)
        
        // Khôi phục trạng thái
        savedInstanceState?.let { bundle ->
            counter = bundle.getInt("KEY_COUNTER", 0)
            userInput = bundle.getString("KEY_INPUT", "")
        }
        
        updateUI()
    }
    
    // Lưu trạng thái trước khi Activity bị destroy
    override fun onSaveInstanceState(outState: Bundle) {
        super.onSaveInstanceState(outState)
        
        outState.putInt("KEY_COUNTER", counter)
        outState.putString("KEY_INPUT", userInput)
    }
    
    // (Tùy chọn) Khôi phục trạng thái sau onStart()
    override fun onRestoreInstanceState(savedInstanceState: Bundle) {
        super.onRestoreInstanceState(savedInstanceState)
        
        counter = savedInstanceState.getInt("KEY_COUNTER", 0)
        userInput = savedInstanceState.getString("KEY_INPUT", "")
    }
}
```

### 2.5 Các tình huống Life Cycle thường gặp

| Tình huống | Các callback được gọi |
|------------|----------------------|
| Khởi động app | onCreate → onStart → onResume |
| Nhấn nút Home | onPause → onStop |
| Quay lại app từ Home | onRestart → onStart → onResume |
| Mở Activity mới | onPause → onStop |
| Nhấn Back từ Activity mới | onRestart → onStart → onResume |
| Nhấn Back (thoát Activity) | onPause → onStop → onDestroy |
| Xoay màn hình | onPause → onStop → onDestroy → onCreate → onStart → onResume |
| Có cuộc gọi đến | onPause → onStop |
| Dialog hiển thị | onPause (Activity vẫn visible) |
| Hệ thống kill app (low memory) | onPause → onStop → (process killed) |

### 2.6 Best Practices cho Life Cycle

```kotlin
class MainActivity : AppCompatActivity() {

    private lateinit var binding: ActivityMainBinding
    private var mediaPlayer: MediaPlayer? = null
    private var locationCallback: LocationCallback? = null
    
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        binding = ActivityMainBinding.inflate(layoutInflater)
        setContentView(binding.root)
        
        // ✅ Chỉ khởi tạo một lần
        setupViews()
        setupListeners()
    }
    
    override fun onStart() {
        super.onStart()
        // ✅ Đăng ký observers, listeners
        registerReceivers()
    }
    
    override fun onResume() {
        super.onResume()
        // ✅ Bắt đầu các tác vụ cần foreground
        startLocationUpdates()
        mediaPlayer?.start()
    }
    
    override fun onPause() {
        super.onPause()
        // ✅ Tạm dừng các tác vụ, LƯU DỮ LIỆU QUAN TRỌNG
        stopLocationUpdates()
        mediaPlayer?.pause()
        saveCurrentState()
    }
    
    override fun onStop() {
        super.onStop()
        // ✅ Hủy đăng ký, giải phóng tài nguyên
        unregisterReceivers()
    }
    
    override fun onDestroy() {
        super.onDestroy()
        // ✅ Cleanup hoàn toàn
        mediaPlayer?.release()
        mediaPlayer = null
    }
}
```

---

## 3) Explicit Intents (Intent tường minh)

### 3.1 Intent là gì?

**Intent** là đối tượng messaging dùng để yêu cầu một hành động từ component khác. Intent là cơ chế chính để các components trong Android giao tiếp với nhau.

**Có 2 loại Intent:**
- **Explicit Intent**: Chỉ định rõ component đích (tên class).
- **Implicit Intent**: Khai báo hành động chung, hệ thống tìm component phù hợp.

### 3.2 Explicit Intent

**Explicit Intent** được sử dụng khi bạn biết chính xác Activity hoặc component nào sẽ xử lý intent.

#### Cú pháp cơ bản:
```kotlin
// Cách 1: Sử dụng constructor
val intent = Intent(this, SecondActivity::class.java)
startActivity(intent)

// Cách 2: Sử dụng setClass
val intent = Intent()
intent.setClass(this, SecondActivity::class.java)
startActivity(intent)

// Cách 3: Sử dụng setClassName
val intent = Intent()
intent.setClassName(this, "com.example.myapp.SecondActivity")
startActivity(intent)
```

### 3.3 Ví dụ: Chuyển từ MainActivity sang SecondActivity

**MainActivity.kt:**
```kotlin
class MainActivity : AppCompatActivity() {
    
    private lateinit var binding: ActivityMainBinding
    
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        binding = ActivityMainBinding.inflate(layoutInflater)
        setContentView(binding.root)
        
        binding.btnOpenSecond.setOnClickListener {
            // Tạo Explicit Intent
            val intent = Intent(this, SecondActivity::class.java)
            
            // Khởi chạy SecondActivity
            startActivity(intent)
        }
    }
}
```

**SecondActivity.kt:**
```kotlin
class SecondActivity : AppCompatActivity() {
    
    private lateinit var binding: ActivitySecondBinding
    
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        binding = ActivitySecondBinding.inflate(layoutInflater)
        setContentView(binding.root)
        
        binding.btnBack.setOnClickListener {
            // Quay lại Activity trước
            finish()
        }
    }
}
```

### 3.4 Các phương thức khởi chạy Activity

```kotlin
// 1. startActivity - Khởi chạy Activity mới
startActivity(intent)

// 2. startActivity với animation
startActivity(intent)
overridePendingTransition(R.anim.slide_in_right, R.anim.slide_out_left)

// 3. startActivityForResult - Khởi chạy và chờ kết quả (DEPRECATED)
startActivityForResult(intent, REQUEST_CODE)

// 4. Activity Result API (KHUYẾN NGHỊ)
private val launcher = registerForActivityResult(
    ActivityResultContracts.StartActivityForResult()
) { result ->
    if (result.resultCode == RESULT_OK) {
        val data = result.data
        // Xử lý kết quả
    }
}

// Sử dụng:
launcher.launch(intent)
```

### 3.5 Finish Activity

```kotlin
// Đóng Activity hiện tại và quay lại Activity trước
finish()

// Đóng Activity với kết quả
setResult(RESULT_OK, resultIntent)
finish()

// Đóng tất cả Activity và thoát app
finishAffinity()
```

---

## 4) Passing Data between Activities (Truyền dữ liệu giữa các Activity)

### 4.1 Sử dụng Intent Extras

**Extras** là cặp key-value được gắn vào Intent để truyền dữ liệu.

#### Gửi dữ liệu (Activity A):
```kotlin
class MainActivity : AppCompatActivity() {
    
    private fun openDetailActivity() {
        val intent = Intent(this, DetailActivity::class.java)
        
        // Truyền các kiểu dữ liệu cơ bản
        intent.putExtra("KEY_STRING", "Hello World")
        intent.putExtra("KEY_INT", 42)
        intent.putExtra("KEY_BOOLEAN", true)
        intent.putExtra("KEY_DOUBLE", 3.14)
        intent.putExtra("KEY_LONG", 1000000L)
        
        // Truyền Array
        intent.putExtra("KEY_STRING_ARRAY", arrayOf("A", "B", "C"))
        intent.putExtra("KEY_INT_ARRAY", intArrayOf(1, 2, 3))
        
        // Truyền ArrayList
        intent.putStringArrayListExtra("KEY_STRING_LIST", arrayListOf("X", "Y", "Z"))
        intent.putIntegerArrayListExtra("KEY_INT_LIST", arrayListOf(10, 20, 30))
        
        startActivity(intent)
    }
}
```

#### Nhận dữ liệu (Activity B):
```kotlin
class DetailActivity : AppCompatActivity() {
    
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_detail)
        
        // Nhận dữ liệu từ Intent
        val stringValue = intent.getStringExtra("KEY_STRING") ?: "Default"
        val intValue = intent.getIntExtra("KEY_INT", 0)  // 0 là giá trị mặc định
        val boolValue = intent.getBooleanExtra("KEY_BOOLEAN", false)
        val doubleValue = intent.getDoubleExtra("KEY_DOUBLE", 0.0)
        val longValue = intent.getLongExtra("KEY_LONG", 0L)
        
        // Nhận Array
        val stringArray = intent.getStringArrayExtra("KEY_STRING_ARRAY")
        val intArray = intent.getIntArrayExtra("KEY_INT_ARRAY")
        
        // Nhận ArrayList
        val stringList = intent.getStringArrayListExtra("KEY_STRING_LIST")
        val intList = intent.getIntegerArrayListExtra("KEY_INT_LIST")
        
        // Sử dụng dữ liệu
        binding.textView.text = stringValue
    }
}
```

### 4.2 Truyền Object với Parcelable

**Parcelable** là interface để serialize object, hiệu quả hơn Serializable.

#### Bước 1: Tạo data class với @Parcelize

```kotlin
// Thêm plugin trong build.gradle.kts
plugins {
    id("kotlin-parcelize")
}
```

```kotlin
import android.os.Parcelable
import kotlinx.parcelize.Parcelize

@Parcelize
data class User(
    val id: Int,
    val name: String,
    val email: String,
    val age: Int
) : Parcelable
```

#### Bước 2: Gửi Object

```kotlin
class MainActivity : AppCompatActivity() {
    
    private fun openProfileActivity() {
        val user = User(
            id = 1,
            name = "John Doe",
            email = "john@example.com",
            age = 25
        )
        
        val intent = Intent(this, ProfileActivity::class.java)
        intent.putExtra("KEY_USER", user)
        startActivity(intent)
    }
}
```

#### Bước 3: Nhận Object

```kotlin
class ProfileActivity : AppCompatActivity() {
    
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_profile)
        
        // Cách 1: getParcelableExtra (deprecated từ API 33)
        val user = intent.getParcelableExtra<User>("KEY_USER")
        
        // Cách 2: Tương thích với API 33+
        val user2 = if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.TIRAMISU) {
            intent.getParcelableExtra("KEY_USER", User::class.java)
        } else {
            @Suppress("DEPRECATION")
            intent.getParcelableExtra("KEY_USER")
        }
        
        user?.let {
            binding.tvName.text = it.name
            binding.tvEmail.text = it.email
            binding.tvAge.text = "Age: ${it.age}"
        }
    }
}
```

### 4.3 Truyền danh sách Object

```kotlin
// Gửi danh sách
val users = arrayListOf(
    User(1, "John", "john@email.com", 25),
    User(2, "Jane", "jane@email.com", 30)
)
intent.putParcelableArrayListExtra("KEY_USER_LIST", users)

// Nhận danh sách
val userList = if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.TIRAMISU) {
    intent.getParcelableArrayListExtra("KEY_USER_LIST", User::class.java)
} else {
    @Suppress("DEPRECATION")
    intent.getParcelableArrayListExtra("KEY_USER_LIST")
}
```

### 4.4 Sử dụng Bundle

**Bundle** là container chứa nhiều cặp key-value:

```kotlin
// Gửi với Bundle
val bundle = Bundle().apply {
    putString("KEY_NAME", "John")
    putInt("KEY_AGE", 25)
    putBoolean("KEY_ACTIVE", true)
    putParcelable("KEY_USER", user)
}

val intent = Intent(this, DetailActivity::class.java)
intent.putExtras(bundle)
startActivity(intent)

// Nhận Bundle
val bundle = intent.extras
val name = bundle?.getString("KEY_NAME")
val age = bundle?.getInt("KEY_AGE", 0)
```

### 4.5 Nhận kết quả từ Activity (Activity Result API)

#### Activity A - Gửi và nhận kết quả:
```kotlin
class MainActivity : AppCompatActivity() {
    
    // Đăng ký launcher
    private val editProfileLauncher = registerForActivityResult(
        ActivityResultContracts.StartActivityForResult()
    ) { result ->
        if (result.resultCode == RESULT_OK) {
            val data = result.data
            val updatedName = data?.getStringExtra("KEY_UPDATED_NAME")
            val updatedEmail = data?.getStringExtra("KEY_UPDATED_EMAIL")
            
            // Cập nhật UI
            binding.tvName.text = updatedName
            binding.tvEmail.text = updatedEmail
            
            Toast.makeText(this, "Profile updated!", Toast.LENGTH_SHORT).show()
        } else if (result.resultCode == RESULT_CANCELED) {
            Toast.makeText(this, "Edit cancelled", Toast.LENGTH_SHORT).show()
        }
    }
    
    private fun openEditProfile() {
        val intent = Intent(this, EditProfileActivity::class.java)
        intent.putExtra("KEY_CURRENT_NAME", "John")
        intent.putExtra("KEY_CURRENT_EMAIL", "john@email.com")
        
        editProfileLauncher.launch(intent)
    }
}
```

#### Activity B - Trả về kết quả:
```kotlin
class EditProfileActivity : AppCompatActivity() {
    
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        binding = ActivityEditProfileBinding.inflate(layoutInflater)
        setContentView(binding.root)
        
        // Nhận dữ liệu hiện tại
        val currentName = intent.getStringExtra("KEY_CURRENT_NAME")
        val currentEmail = intent.getStringExtra("KEY_CURRENT_EMAIL")
        
        binding.etName.setText(currentName)
        binding.etEmail.setText(currentEmail)
        
        // Nút Save
        binding.btnSave.setOnClickListener {
            val resultIntent = Intent().apply {
                putExtra("KEY_UPDATED_NAME", binding.etName.text.toString())
                putExtra("KEY_UPDATED_EMAIL", binding.etEmail.text.toString())
            }
            setResult(RESULT_OK, resultIntent)
            finish()
        }
        
        // Nút Cancel
        binding.btnCancel.setOnClickListener {
            setResult(RESULT_CANCELED)
            finish()
        }
    }
    
    // Xử lý nút Back
    override fun onBackPressed() {
        setResult(RESULT_CANCELED)
        super.onBackPressed()
    }
}
```

### 4.6 Best Practices khi truyền dữ liệu

```kotlin
// ✅ Sử dụng companion object cho keys
class DetailActivity : AppCompatActivity() {
    
    companion object {
        const val EXTRA_USER_ID = "extra_user_id"
        const val EXTRA_USER_NAME = "extra_user_name"
        
        // Factory method để tạo Intent
        fun newIntent(context: Context, userId: Int, userName: String): Intent {
            return Intent(context, DetailActivity::class.java).apply {
                putExtra(EXTRA_USER_ID, userId)
                putExtra(EXTRA_USER_NAME, userName)
            }
        }
    }
    
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        
        val userId = intent.getIntExtra(EXTRA_USER_ID, -1)
        val userName = intent.getStringExtra(EXTRA_USER_NAME)
    }
}

// Sử dụng từ Activity khác
val intent = DetailActivity.newIntent(this, userId = 123, userName = "John")
startActivity(intent)
```

---

## 5) Implicit Intent (Intent ngầm định)

### 5.1 Implicit Intent là gì?

**Implicit Intent** không chỉ định component đích cụ thể. Thay vào đó, nó khai báo một hành động (action) chung, và hệ thống Android sẽ tìm các ứng dụng có thể xử lý hành động đó.

**Khi nào sử dụng:**
- Mở trang web trong browser.
- Gọi điện thoại.
- Gửi email.
- Chia sẻ nội dung.
- Chọn ảnh từ gallery.
- Mở bản đồ.

### 5.2 Cấu trúc Implicit Intent

```kotlin
val intent = Intent().apply {
    action = Intent.ACTION_VIEW                    // Hành động
    data = Uri.parse("https://www.google.com")    // Dữ liệu URI
    type = "text/plain"                            // MIME type (tùy chọn)
    addCategory(Intent.CATEGORY_BROWSABLE)         // Category (tùy chọn)
}
```

### 5.3 Các Action phổ biến

| Action | Mô tả |
|--------|-------|
| `ACTION_VIEW` | Hiển thị dữ liệu (web, map, video,...) |
| `ACTION_SEND` | Gửi/chia sẻ dữ liệu |
| `ACTION_SENDTO` | Gửi đến địa chỉ cụ thể (email, SMS) |
| `ACTION_DIAL` | Mở dialer với số điện thoại |
| `ACTION_CALL` | Gọi điện trực tiếp (cần permission) |
| `ACTION_PICK` | Chọn item từ dữ liệu |
| `ACTION_EDIT` | Chỉnh sửa dữ liệu |
| `ACTION_DELETE` | Xóa dữ liệu |
| `ACTION_SEARCH` | Tìm kiếm |
| `ACTION_WEB_SEARCH` | Tìm kiếm web |

### 5.4 Ví dụ các Implicit Intent thường dùng

#### Mở trang web:
```kotlin
fun openWebPage(url: String) {
    val intent = Intent(Intent.ACTION_VIEW, Uri.parse(url))
    
    // Kiểm tra có app nào xử lý được không
    if (intent.resolveActivity(packageManager) != null) {
        startActivity(intent)
    } else {
        Toast.makeText(this, "No browser app found", Toast.LENGTH_SHORT).show()
    }
}

// Sử dụng
openWebPage("https://www.google.com")
```

#### Gọi điện thoại:
```kotlin
// Mở dialer (không cần permission)
fun openDialer(phoneNumber: String) {
    val intent = Intent(Intent.ACTION_DIAL).apply {
        data = Uri.parse("tel:$phoneNumber")
    }
    startActivity(intent)
}

// Gọi trực tiếp (cần permission CALL_PHONE)
fun makePhoneCall(phoneNumber: String) {
    if (ContextCompat.checkSelfPermission(this, Manifest.permission.CALL_PHONE) 
        == PackageManager.PERMISSION_GRANTED) {
        val intent = Intent(Intent.ACTION_CALL).apply {
            data = Uri.parse("tel:$phoneNumber")
        }
        startActivity(intent)
    } else {
        // Request permission
        ActivityCompat.requestPermissions(
            this, 
            arrayOf(Manifest.permission.CALL_PHONE), 
            REQUEST_CALL_PHONE
        )
    }
}

// Sử dụng
openDialer("0123456789")
```

#### Gửi SMS:
```kotlin
fun sendSMS(phoneNumber: String, message: String) {
    val intent = Intent(Intent.ACTION_SENDTO).apply {
        data = Uri.parse("smsto:$phoneNumber")
        putExtra("sms_body", message)
    }
    if (intent.resolveActivity(packageManager) != null) {
        startActivity(intent)
    }
}

// Sử dụng
sendSMS("0123456789", "Hello from my app!")
```

#### Gửi Email:
```kotlin
fun sendEmail(
    recipients: Array<String>,
    subject: String,
    body: String
) {
    val intent = Intent(Intent.ACTION_SENDTO).apply {
        data = Uri.parse("mailto:")  // Chỉ email apps mới xử lý
        putExtra(Intent.EXTRA_EMAIL, recipients)
        putExtra(Intent.EXTRA_SUBJECT, subject)
        putExtra(Intent.EXTRA_TEXT, body)
    }
    if (intent.resolveActivity(packageManager) != null) {
        startActivity(intent)
    }
}

// Sử dụng
sendEmail(
    recipients = arrayOf("support@example.com"),
    subject = "Feedback",
    body = "Hello, I have a question..."
)
```

#### Chia sẻ văn bản:
```kotlin
fun shareText(text: String) {
    val intent = Intent(Intent.ACTION_SEND).apply {
        type = "text/plain"
        putExtra(Intent.EXTRA_TEXT, text)
    }
    
    // Hiển thị chooser để user chọn app
    val chooser = Intent.createChooser(intent, "Share via")
    startActivity(chooser)
}

// Sử dụng
shareText("Check out this amazing app!")
```

#### Chia sẻ hình ảnh:
```kotlin
fun shareImage(imageUri: Uri) {
    val intent = Intent(Intent.ACTION_SEND).apply {
        type = "image/*"
        putExtra(Intent.EXTRA_STREAM, imageUri)
        addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION)
    }
    
    val chooser = Intent.createChooser(intent, "Share image")
    startActivity(chooser)
}
```

#### Mở bản đồ với vị trí:
```kotlin
fun openMap(latitude: Double, longitude: Double, label: String) {
    val uri = Uri.parse("geo:$latitude,$longitude?q=$latitude,$longitude($label)")
    val intent = Intent(Intent.ACTION_VIEW, uri)
    
    if (intent.resolveActivity(packageManager) != null) {
        startActivity(intent)
    }
}

// Mở bản đồ với địa chỉ
fun openMapWithAddress(address: String) {
    val encodedAddress = Uri.encode(address)
    val uri = Uri.parse("geo:0,0?q=$encodedAddress")
    val intent = Intent(Intent.ACTION_VIEW, uri)
    startActivity(intent)
}

// Sử dụng
openMap(10.762622, 106.660172, "Ho Chi Minh City")
openMapWithAddress("123 Main Street, New York")
```

#### Chọn ảnh từ Gallery:
```kotlin
// Sử dụng Activity Result API
private val pickImageLauncher = registerForActivityResult(
    ActivityResultContracts.GetContent()
) { uri: Uri? ->
    uri?.let {
        binding.imageView.setImageURI(it)
    }
}

fun pickImage() {
    pickImageLauncher.launch("image/*")
}

// Chọn nhiều ảnh
private val pickMultipleImagesLauncher = registerForActivityResult(
    ActivityResultContracts.GetMultipleContents()
) { uris: List<Uri> ->
    // Xử lý danh sách ảnh
    uris.forEach { uri ->
        Log.d("Image", "Selected: $uri")
    }
}

fun pickMultipleImages() {
    pickMultipleImagesLauncher.launch("image/*")
}
```

#### Chụp ảnh bằng Camera:
```kotlin
private lateinit var photoUri: Uri

private val takePictureLauncher = registerForActivityResult(
    ActivityResultContracts.TakePicture()
) { success: Boolean ->
    if (success) {
        binding.imageView.setImageURI(photoUri)
    }
}

fun takePhoto() {
    // Tạo file để lưu ảnh
    val photoFile = File(
        getExternalFilesDir(Environment.DIRECTORY_PICTURES),
        "photo_${System.currentTimeMillis()}.jpg"
    )
    
    photoUri = FileProvider.getUriForFile(
        this,
        "${packageName}.fileprovider",
        photoFile
    )
    
    takePictureLauncher.launch(photoUri)
}
```

### 5.5 Xử lý trường hợp không có app phù hợp

```kotlin
fun safeStartActivity(intent: Intent) {
    try {
        if (intent.resolveActivity(packageManager) != null) {
            startActivity(intent)
        } else {
            Toast.makeText(
                this, 
                "No app available to handle this action", 
                Toast.LENGTH_SHORT
            ).show()
        }
    } catch (e: ActivityNotFoundException) {
        Toast.makeText(
            this, 
            "Error: ${e.message}", 
            Toast.LENGTH_SHORT
        ).show()
    }
}
```

### 5.6 Intent Chooser

Khi có nhiều app có thể xử lý intent, sử dụng Chooser để user chọn:

```kotlin
fun shareWithChooser(text: String) {
    val intent = Intent(Intent.ACTION_SEND).apply {
        type = "text/plain"
        putExtra(Intent.EXTRA_TEXT, text)
    }
    
    // Tạo chooser
    val chooserIntent = Intent.createChooser(intent, "Share using")
    
    // Loại bỏ một số app khỏi chooser (tùy chọn)
    // chooserIntent.putExtra(Intent.EXTRA_EXCLUDE_COMPONENTS, ...)
    
    startActivity(chooserIntent)
}
```

---

## 6) The Manifest (AndroidManifest.xml)

### 6.1 AndroidManifest.xml là gì?

**AndroidManifest.xml** là file cấu hình bắt buộc của mọi ứng dụng Android. File này cung cấp thông tin thiết yếu về ứng dụng cho hệ thống Android, Google Play Store và các công cụ build.

**Vị trí:** `app/src/main/AndroidManifest.xml`

### 6.2 Cấu trúc cơ bản

```xml
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools">

    <!-- Permissions -->
    <uses-permission android:name="android.permission.INTERNET" />
    
    <!-- Features -->
    <uses-feature android:name="android.hardware.camera" android:required="false" />

    <application
        android:allowBackup="true"
        android:icon="@mipmap/ic_launcher"
        android:label="@string/app_name"
        android:roundIcon="@mipmap/ic_launcher_round"
        android:supportsRtl="true"
        android:theme="@style/Theme.MyApp">
        
        <!-- Activities -->
        <activity android:name=".MainActivity" />
        
        <!-- Services -->
        <service android:name=".MyService" />
        
        <!-- Receivers -->
        <receiver android:name=".MyReceiver" />
        
        <!-- Providers -->
        <provider android:name=".MyProvider" />
        
    </application>
</manifest>
```

### 6.3 Thẻ `<manifest>`

```xml
<manifest 
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    package="com.example.myapp">  <!-- Deprecated, dùng namespace trong build.gradle -->
    
    <!-- Nội dung -->
    
</manifest>
```

| Thuộc tính | Mô tả |
|------------|-------|
| `xmlns:android` | Namespace Android (bắt buộc) |
| `xmlns:tools` | Namespace tools cho IDE |
| `package` | Package name (deprecated, khai báo trong build.gradle) |

### 6.4 Permissions (Quyền)

#### Khai báo quyền cần thiết:
```xml
<!-- Quyền Internet -->
<uses-permission android:name="android.permission.INTERNET" />
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />

<!-- Quyền Camera -->
<uses-permission android:name="android.permission.CAMERA" />

<!-- Quyền Location -->
<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />

<!-- Quyền Storage (Android 12 trở xuống) -->
<uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" 
    android:maxSdkVersion="32" />
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" 
    android:maxSdkVersion="32" />

<!-- Quyền Media (Android 13+) -->
<uses-permission android:name="android.permission.READ_MEDIA_IMAGES" />
<uses-permission android:name="android.permission.READ_MEDIA_VIDEO" />
<uses-permission android:name="android.permission.READ_MEDIA_AUDIO" />

<!-- Quyền Phone -->
<uses-permission android:name="android.permission.CALL_PHONE" />
<uses-permission android:name="android.permission.READ_PHONE_STATE" />

<!-- Quyền Contacts -->
<uses-permission android:name="android.permission.READ_CONTACTS" />
<uses-permission android:name="android.permission.WRITE_CONTACTS" />

<!-- Quyền Notifications (Android 13+) -->
<uses-permission android:name="android.permission.POST_NOTIFICATIONS" />

<!-- Quyền Foreground Service -->
<uses-permission android:name="android.permission.FOREGROUND_SERVICE" />

<!-- Quyền Boot Completed -->
<uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED" />
```

#### Phân loại quyền:

| Loại | Mô tả | Ví dụ |
|------|-------|-------|
| **Normal** | Tự động cấp khi cài app | INTERNET, ACCESS_NETWORK_STATE |
| **Dangerous** | Cần user cho phép runtime | CAMERA, LOCATION, CONTACTS |
| **Signature** | Chỉ cấp cho app cùng signature | BIND_ACCESSIBILITY_SERVICE |

### 6.5 Uses-Feature (Tính năng phần cứng)

Khai báo tính năng phần cứng mà app sử dụng:

```xml
<!-- Camera - required -->
<uses-feature 
    android:name="android.hardware.camera"
    android:required="true" />

<!-- Camera - optional -->
<uses-feature 
    android:name="android.hardware.camera"
    android:required="false" />

<!-- GPS -->
<uses-feature 
    android:name="android.hardware.location.gps"
    android:required="false" />

<!-- Bluetooth -->
<uses-feature 
    android:name="android.hardware.bluetooth"
    android:required="false" />

<!-- NFC -->
<uses-feature 
    android:name="android.hardware.nfc"
    android:required="false" />

<!-- Telephony (chỉ điện thoại, không phải tablet) -->
<uses-feature 
    android:name="android.hardware.telephony"
    android:required="false" />
```

**Lưu ý:** Nếu `required="true"`, app sẽ không hiển thị trên Play Store cho thiết bị không có tính năng đó.

### 6.6 Thẻ `<application>`

```xml
<application
    android:name=".MyApplication"
    android:allowBackup="true"
    android:dataExtractionRules="@xml/data_extraction_rules"
    android:fullBackupContent="@xml/backup_rules"
    android:icon="@mipmap/ic_launcher"
    android:label="@string/app_name"
    android:roundIcon="@mipmap/ic_launcher_round"
    android:supportsRtl="true"
    android:theme="@style/Theme.MyApp"
    android:usesCleartextTraffic="true"
    android:networkSecurityConfig="@xml/network_security_config"
    tools:targetApi="31">
    
    <!-- Components -->
    
</application>
```

| Thuộc tính | Mô tả |
|------------|-------|
| `android:name` | Custom Application class |
| `android:allowBackup` | Cho phép backup dữ liệu |
| `android:icon` | Icon ứng dụng |
| `android:label` | Tên ứng dụng |
| `android:roundIcon` | Icon tròn (Android 7.1+) |
| `android:theme` | Theme mặc định |
| `android:supportsRtl` | Hỗ trợ Right-to-Left |
| `android:usesCleartextTraffic` | Cho phép HTTP (không HTTPS) |
| `android:networkSecurityConfig` | Cấu hình bảo mật mạng |

### 6.7 Khai báo Activity

```xml
<!-- Activity cơ bản -->
<activity android:name=".MainActivity" />

<!-- Activity với đầy đủ thuộc tính -->
<activity
    android:name=".MainActivity"
    android:label="@string/title_main"
    android:theme="@style/Theme.MyApp.NoActionBar"
    android:screenOrientation="portrait"
    android:configChanges="orientation|screenSize|keyboardHidden"
    android:windowSoftInputMode="adjustResize"
    android:launchMode="singleTop"
    android:exported="true"
    android:parentActivityName=".HomeActivity">
    
    <!-- Metadata -->
    <meta-data
        android:name="android.app.lib_name"
        android:value="mylib" />
        
</activity>

<!-- Launcher Activity (Activity khởi động app) -->
<activity
    android:name=".MainActivity"
    android:exported="true">
    <intent-filter>
        <action android:name="android.intent.action.MAIN" />
        <category android:name="android.intent.category.LAUNCHER" />
    </intent-filter>
</activity>
```

#### Các thuộc tính quan trọng của Activity:

| Thuộc tính | Mô tả |
|------------|-------|
| `android:name` | Tên class Activity |
| `android:label` | Tiêu đề hiển thị |
| `android:theme` | Theme riêng cho Activity |
| `android:screenOrientation` | Hướng màn hình (portrait, landscape, sensor) |
| `android:configChanges` | Xử lý config changes mà không restart |
| `android:windowSoftInputMode` | Hành vi khi hiện bàn phím |
| `android:launchMode` | Chế độ khởi chạy (standard, singleTop, singleTask, singleInstance) |
| `android:exported` | Cho phép app khác khởi chạy (bắt buộc từ Android 12) |
| `android:parentActivityName` | Activity cha (cho Up navigation) |

### 6.8 Intent Filter

Intent Filter khai báo loại Intent mà component có thể xử lý:

```xml
<!-- Activity xử lý việc xem ảnh -->
<activity android:name=".ImageViewerActivity"
    android:exported="true">
    <intent-filter>
        <action android:name="android.intent.action.VIEW" />
        <category android:name="android.intent.category.DEFAULT" />
        <data android:mimeType="image/*" />
    </intent-filter>
</activity>

<!-- Activity xử lý custom scheme -->
<activity android:name=".DeepLinkActivity"
    android:exported="true">
    <intent-filter>
        <action android:name="android.intent.action.VIEW" />
        <category android:name="android.intent.category.DEFAULT" />
        <category android:name="android.intent.category.BROWSABLE" />
        <data 
            android:scheme="myapp"
            android:host="product"
            android:pathPrefix="/detail" />
    </intent-filter>
</activity>

<!-- Activity xử lý share text -->
<activity android:name=".ShareReceiverActivity"
    android:exported="true">
    <intent-filter>
        <action android:name="android.intent.action.SEND" />
        <category android:name="android.intent.category.DEFAULT" />
        <data android:mimeType="text/plain" />
    </intent-filter>
</activity>
```

### 6.9 Khai báo Service

```xml
<!-- Service cơ bản -->
<service android:name=".MyService" />

<!-- Foreground Service -->
<service
    android:name=".MusicPlayerService"
    android:exported="false"
    android:foregroundServiceType="mediaPlayback" />

<!-- Service với permission -->
<service
    android:name=".MyBoundService"
    android:exported="true"
    android:permission="com.example.myapp.permission.BIND_SERVICE" />
```

### 6.10 Khai báo Broadcast Receiver

```xml
<!-- Receiver khai báo trong Manifest (Static) -->
<receiver
    android:name=".BootReceiver"
    android:exported="true">
    <intent-filter>
        <action android:name="android.intent.action.BOOT_COMPLETED" />
    </intent-filter>
</receiver>

<!-- Receiver với permission -->
<receiver
    android:name=".MyReceiver"
    android:exported="false">
    <intent-filter>
        <action android:name="com.example.MY_CUSTOM_ACTION" />
    </intent-filter>
</receiver>
```

### 6.11 Khai báo Content Provider

```xml
<provider
    android:name=".MyContentProvider"
    android:authorities="com.example.myapp.provider"
    android:exported="false"
    android:grantUriPermissions="true" />

<!-- FileProvider cho việc share file -->
<provider
    android:name="androidx.core.content.FileProvider"
    android:authorities="${applicationId}.fileprovider"
    android:exported="false"
    android:grantUriPermissions="true">
    <meta-data
        android:name="android.support.FILE_PROVIDER_PATHS"
        android:resource="@xml/file_paths" />
</provider>
```

File `res/xml/file_paths.xml`:
```xml
<?xml version="1.0" encoding="utf-8"?>
<paths>
    <external-path name="external" path="." />
    <external-files-path name="external_files" path="." />
    <cache-path name="cache" path="." />
    <files-path name="files" path="." />
</paths>
```

### 6.12 Ví dụ Manifest hoàn chỉnh

```xml
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools">

    <!-- Permissions -->
    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
    <uses-permission android:name="android.permission.CAMERA" />
    <uses-permission android:name="android.permission.READ_MEDIA_IMAGES" />
    <uses-permission android:name="android.permission.POST_NOTIFICATIONS" />

    <!-- Features -->
    <uses-feature android:name="android.hardware.camera" android:required="false" />

    <application
        android:name=".MyApplication"
        android:allowBackup="true"
        android:dataExtractionRules="@xml/data_extraction_rules"
        android:fullBackupContent="@xml/backup_rules"
        android:icon="@mipmap/ic_launcher"
        android:label="@string/app_name"
        android:roundIcon="@mipmap/ic_launcher_round"
        android:supportsRtl="true"
        android:theme="@style/Theme.MyApp"
        android:usesCleartextTraffic="true"
        tools:targetApi="34">

        <!-- Launcher Activity -->
        <activity
            android:name=".ui.MainActivity"
            android:exported="true"
            android:theme="@style/Theme.MyApp.SplashScreen">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>

        <!-- Other Activities -->
        <activity
            android:name=".ui.DetailActivity"
            android:parentActivityName=".ui.MainActivity"
            android:screenOrientation="portrait" />

        <activity
            android:name=".ui.SettingsActivity"
            android:label="@string/title_settings" />

        <!-- Deep Link Activity -->
        <activity
            android:name=".ui.DeepLinkActivity"
            android:exported="true">
            <intent-filter android:autoVerify="true">
                <action android:name="android.intent.action.VIEW" />
                <category android:name="android.intent.category.DEFAULT" />
                <category android:name="android.intent.category.BROWSABLE" />
                <data
                    android:scheme="https"
                    android:host="www.example.com"
                    android:pathPrefix="/product" />
            </intent-filter>
        </activity>

        <!-- Services -->
        <service
            android:name=".service.DataSyncService"
            android:exported="false" />

        <service
            android:name=".service.MusicService"
            android:foregroundServiceType="mediaPlayback"
            android:exported="false" />

        <!-- Receivers -->
        <receiver
            android:name=".receiver.BootReceiver"
            android:exported="true">
            <intent-filter>
                <action android:name="android.intent.action.BOOT_COMPLETED" />
            </intent-filter>
        </receiver>

        <!-- Providers -->
        <provider
            android:name="androidx.core.content.FileProvider"
            android:authorities="${applicationId}.fileprovider"
            android:exported="false"
            android:grantUriPermissions="true">
            <meta-data
                android:name="android.support.FILE_PROVIDER_PATHS"
                android:resource="@xml/file_paths" />
        </provider>

        <!-- Meta-data -->
        <meta-data
            android:name="com.google.android.geo.API_KEY"
            android:value="@string/google_maps_key" />

    </application>

</manifest>
```

### 6.13 Best Practices cho Manifest

1. **Chỉ khai báo permissions cần thiết** - Người dùng sẽ nghi ngờ app yêu cầu quá nhiều quyền.

2. **Đặt `exported="false"` khi có thể** - Bảo vệ components khỏi bị truy cập từ app khác.

3. **Sử dụng `tools:targetApi`** - Để suppress warnings cho API mới.

4. **Tổ chức rõ ràng** - Nhóm permissions, features, components riêng biệt.

5. **Sử dụng resource references** - Dùng `@string/` thay vì hardcode text.

---

## 7) Tổng kết

### 7.1 Bảng tóm tắt các khái niệm

| Khái niệm | Mô tả |
|-----------|-------|
| **Activity** | Màn hình UI, quản lý tương tác với người dùng |
| **Life Cycle** | Các trạng thái của Activity từ tạo đến hủy |
| **Explicit Intent** | Intent chỉ định rõ component đích |
| **Implicit Intent** | Intent khai báo action, hệ thống tìm component phù hợp |
| **Extras/Bundle** | Cơ chế truyền dữ liệu giữa Activities |
| **Manifest** | File cấu hình ứng dụng |

### 7.2 Checklist khi tạo Activity mới

- [ ] Tạo class kế thừa AppCompatActivity
- [ ] Tạo layout XML
- [ ] Khai báo trong AndroidManifest.xml
- [ ] Thiết lập ViewBinding
- [ ] Override các lifecycle methods cần thiết
- [ ] Xử lý savedInstanceState nếu cần
- [ ] Thêm Intent extras nếu cần nhận dữ liệu

### 7.3 Tài liệu tham khảo

- [Android Developers - Activity](https://developer.android.com/guide/components/activities/intro-activities)
- [Android Developers - Activity Lifecycle](https://developer.android.com/guide/components/activities/activity-lifecycle)
- [Android Developers - Intents](https://developer.android.com/guide/components/intents-filters)
- [Android Developers - App Manifest](https://developer.android.com/guide/topics/manifest/manifest-intro)

