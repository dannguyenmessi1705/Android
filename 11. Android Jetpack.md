# Android Jetpack

## Giới thiệu về Jetpack Android

### Introduction to Jetpack

Android Jetpack là một bộ thư viện, công cụ và hướng dẫn kiến trúc do Google phát triển để giúp xây dựng ứng dụng Android hiện đại. Jetpack tập trung vào việc:

- Giảm lỗi do vòng đời (lifecycle) phức tạp của Android.
- Chuẩn hóa kiến trúc để code dễ đọc, dễ bảo trì.
- Tận dụng các thực hành tốt nhất đã được kiểm chứng.
- Giúp bạn triển khai nhanh, ít phải tự viết lại các giải pháp chung.

Jetpack được xây dựng trên nền **AndroidX**, là thế hệ thư viện thay thế cho Support Library cũ. Khi dùng Jetpack, bạn gần như luôn làm việc với AndroidX.

### Jetpack giải quyết vấn đề gì?

Đối với người mới, Android có nhiều “bẫy” phổ biến: Activity/Fragment bị hủy và tạo lại, dữ liệu mất khi xoay màn hình, tác vụ nền bị hệ thống dừng, lưu trữ phức tạp, v.v. Jetpack đưa ra các thành phần (components) chuẩn hóa để giải quyết những vấn đề này:

- Quản lý vòng đời an toàn (Lifecycle-aware).
- Lưu trữ dữ liệu bền vững và dễ kiểm soát.
- Điều hướng màn hình rõ ràng, giảm lỗi.
- Tách lớp UI – logic – dữ liệu để dễ phát triển theo nhóm.

### Các nhóm thư viện chính của Jetpack

Jetpack thường được chia thành 4 nhóm lớn:

1. **Foundation**: Những thành phần nền tảng như AppCompat, Android KTX, MultiDex.
2. **Architecture**: Các thư viện giúp tổ chức code theo kiến trúc rõ ràng:
   - `Lifecycle`, `ViewModel`, `LiveData`/`Flow`, `Room`, `DataStore`, `Paging`
3. **Behavior**: Hỗ trợ chạy tác vụ nền và xử lý thông báo:
   - `WorkManager`, `Notifications`, `Permissions`
4. **UI**: Xây dựng giao diện và điều hướng:
   - `Navigation`, `Fragment`, `RecyclerView`, `Compose`

### AndroidX và Jetpack có liên quan gì?

- **AndroidX** là tập thư viện thay thế Support Library.  
- **Jetpack** là bộ giải pháp “đóng gói” và định hướng kiến trúc, trong đó các thư viện đều nằm trong AndroidX.
- Khi bắt đầu dự án mới, bạn nên dùng AndroidX để đảm bảo tương thích với các tài liệu và ví dụ Jetpack mới nhất.

### Lợi ích cho người mới bắt đầu

- **Dễ học theo lộ trình**: Jetpack chia rõ các phần, bạn có thể học từng nhóm.
- **Giảm boilerplate**: bớt code lặp và bớt lỗi.
- **Dễ mở rộng**: dự án được tổ chức tốt, dễ thêm tính năng.
- **Có tài liệu và cộng đồng lớn**: dễ tìm ví dụ, giải pháp.

### Bắt đầu nhanh với Jetpack (thiết lập cơ bản)

1. **Bật AndroidX** trong `gradle.properties`:

```properties
android.useAndroidX=true
android.enableJetifier=true
```

2. **Thêm dependency Jetpack** trong `build.gradle` (tùy nhu cầu):

```gradle
dependencies {
    implementation "androidx.core:core-ktx:1.12.0"
    implementation "androidx.lifecycle:lifecycle-viewmodel-ktx:2.6.2"
    implementation "androidx.lifecycle:lifecycle-livedata-ktx:2.6.2"
    implementation "androidx.room:room-runtime:2.5.2"
    kapt "androidx.room:room-compiler:2.5.2"
}
```

3. **Đồng bộ Gradle** và kiểm tra project đã build thành công.

### Kiến trúc điển hình khi dùng Jetpack

Một dòng chảy phổ biến khi bạn dùng Jetpack (ví dụ MVVM):

```
UI (Activity/Fragment/Compose)
        ↓
ViewModel
        ↓
Repository
        ↓
Room / Network / DataStore
```

Lợi ích của kiến trúc này là UI chỉ tập trung hiển thị, còn dữ liệu và logic được quản lý rõ ràng ở các lớp khác.

### Khi nào nên dùng Jetpack?

- Ứng dụng mới cần kiến trúc chuẩn và dễ mở rộng.
- Dự án nhóm cần sự thống nhất và giảm lỗi.
- Ứng dụng cần chạy tác vụ nền, lưu trữ dữ liệu, hoặc điều hướng phức tạp.

### Lộ trình học Jetpack gợi ý cho người mới

1. **Foundation**: AndroidX, KTX, AppCompat  
2. **Architecture**: Lifecycle → ViewModel → LiveData/Flow  
3. **Data**: Room → DataStore  
4. **Navigation**: Navigation Component  
5. **Background**: WorkManager  
6. **UI hiện đại**: Jetpack Compose (nếu học giao diện mới)

### Tài liệu tham khảo

- Android Developers: https://developer.android.com/jetpack
- Codelabs Jetpack: https://developer.android.com/codelabs
